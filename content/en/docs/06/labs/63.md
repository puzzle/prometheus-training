---
title: "6.3 Tasks: Grafana provisioning"
weight: 2
sectionnumber: 6.3
---

There are multiple ways to configure Grafana. Besides the Web UI you used in the previous tasks, configuration changes can also be applied using provisioning. With Grafana provisioning you can provide ressources (e.g. dashboards, datasources etc. ) as YAML configuration files.

### Task {{% param sectionnumber %}}.1 Add an Alertmanager datasource

* Add the `camptocamp-prometheus-alertmanager-datasource` plugin to your Grafana setup using the `grafana-cli`
* Add your Alertmanager as a provisioned data source and name it `alertmanager`
* Restart Grafana and test your new data source

{{% alert title="Hint" color="primary" %}}
There is a `sample.yaml` you can use as reference in the data source provisioning folder.
{{% /alert %}}


{{% details title="Hints" mode-switcher="normalexpertmode" %}}

Add Alertmanager data source plugin

```bash
sudo grafana-cli plugins install camptocamp-prometheus-alertmanager-datasource
```

Restart Grafana

```bash
sudo systemctl restart grafana-server.service
```

Add the data source definition

```bash
sudo bash -c 'cat <<EOF > /etc/grafana/provisioning/datasources/alertmanager.yaml
apiVersion: 1
datasources:
  - name: alertmanager
    type: alertmanager
    access: proxy
    url: http://localhost:9093
    type: camptocamp-prometheus-alertmanager-datasource
EOF'
```

Restart Grafana server

```bash
sudo systemctl restart grafana-server.service
```

{{% /details %}}

